.TH PIPELAM 1 "April 2025" "pipelam" "User Commands"
.SH NAME
pipelam \- lightweight overlay notification system for Wayland compositors
.SH SYNOPSIS
.B pipelam
[\fIOPTIONS\fR] \fI<pipe_path>\fR
.SH DESCRIPTION
.B pipelam
is a lightweight overlay notification system for wlroots-based Wayland compositors, designed to display text and image overlays. It is typically used to show volume levels, brightness indicators, and other status information through a named pipe.
.PP
Similar to wob (Wayland Overlay Bar), but built using GTK4 and gtk4-layer-shell instead of raw Wayland protocols.
.SH OPTIONS
.TP
.BI \-l,\ \-\-log\-level= LEVEL
Set log level (DEBUG, INFO, WARNING, ERROR, PANIC). Default is INFO.
.TP
.BI \-r,\ \-\-runtime\-behaviour= TYPE
Set runtime behaviour (queue, replace, overlay). Default is replace.
.TP
.BI \-t,\ \-\-window\-timeout= MS
Set window timeout in milliseconds. Default is 600.
.TP
.BI \-a,\ \-\-anchor= POS
Set window anchor position (bottom-left, bottom-right, top-left, top-right, center). Default is center.
.TP
.BI \-L,\ \-\-margin\-left= PIXELS
Set left margin in pixels. Default is 100.
.TP
.BI \-R,\ \-\-margin\-right= PIXELS
Set right margin in pixels. Default is 0.
.TP
.BI \-T,\ \-\-margin\-top= PIXELS
Set top margin in pixels. Default is 100.
.TP
.BI \-B,\ \-\-margin\-bottom= PIXELS
Set bottom margin in pixels. Default is 0.
.TP
.B \-h, \-\-help
Display help message.
.SH EXAMPLES
Basic usage:
.PP
.nf
.RS
mkfifo /tmp/pipelam.fifo
pipelam /tmp/pipelam.fifo &
echo "Hello, World!" > /tmp/pipelam.fifo
.RE
.fi
.PP
Display a notification at the top-right of the screen:
.PP
.nf
.RS
pipelam --anchor=top-right --margin-top=50 --margin-right=50 /tmp/pipelam.fifo &
.RE
.fi
.PP
Send a JSON-formatted message:
.PP
.nf
.RS
jq -n --arg text "Hello, World" '{type: "text", expression: $text}' -c > /tmp/pipelam.fifo
.RE
.fi
.SH JSON PAYLOAD FORMAT
Messages sent to pipelam can be formatted as JSON for advanced control:
.PP
.nf
{
  "type": "text",              # "text" or "image"
  "expression": "Hello World", # Text or image path
  "settings": {
    "window_timeout": 600,     # Milliseconds
    "anchor": "center",        # Position anchor
    "margin_left": 100,        # Margin in pixels
    "margin_right": 0,
    "margin_top": 100,
    "margin_bottom": 0
  }
}
.fi
.PP
For text overlays, the expression field supports Pango markup.
.SH ENVIRONMENT
.TP
.B PIPELAM_LOG_LEVEL
Set log level (DEBUG, INFO, WARNING, ERROR, PANIC)
.TP
.B PIPELAM_RUNTIME_BEHAVIOUR
Set runtime behaviour (queue, replace, overlay)
.TP
.B PIPELAM_WINDOW_TIMEOUT
Set window timeout in milliseconds
.TP
.B PIPELAM_ANCHOR
Set window anchor position (BOTTOM_LEFT, BOTTOM_RIGHT, TOP_LEFT, TOP_RIGHT, CENTER)
.TP
.B PIPELAM_MARGIN_LEFT
Set left margin in pixels
.TP
.B PIPELAM_MARGIN_RIGHT
Set right margin in pixels
.TP
.B PIPELAM_MARGIN_TOP
Set top margin in pixels
.TP
.B PIPELAM_MARGIN_BOTTOM
Set bottom margin in pixels
.TP
.B PIPELAM_CONFIG_FILE_PATH
Override the default configuration file path
.SH FILES
.TP
.I /etc/pipelam/pipelam.toml
System-wide configuration file
.TP
.I $HOME/.config/pipelam/pipelam.toml
User configuration file
.SH SEE ALSO
.BR pipelam.toml (5)
.SH BUGS
Report bugs to: https://github.com/thomascrha/pipelam/issues
.SH AUTHOR
thomascrha
